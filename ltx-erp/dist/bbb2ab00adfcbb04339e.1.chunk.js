webpackJsonp([1],{230:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var d=a(3),u=n(d),c=(a(13),a(7)),f=(n(c),a(12)),h=n(f),p=a(15),m=n(p),b=a(58),g=(n(b),(0,h["default"])(i=function(e){function t(e){l(this,t);var a=o(this,Object.getPrototypeOf(t).call(this,e));return a.state={validateCode:""},a}return r(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.tel,n=e.second,l=e.isValidateFetching;return u["default"].createElement("div",{className:"bind-modal",style:{display:t||l?"block":"none"}},u["default"].createElement("main",null,u["default"].createElement("h2",null,"解除绑定"),u["default"].createElement("div",{style:{marginBottom:10/64+"rem"}},"已向",u["default"].createElement("span",null,a),"的手机号发送6位验证码，继续解绑请输入该验证码并提交。"),u["default"].createElement("label",null,"手机号"),a,u["default"].createElement("span",null),u["default"].createElement("br",null),u["default"].createElement("label",null,"验证码"),u["default"].createElement("input",{type:"tel",value:this.state.validateCode,onChange:this._handleCodeChange.bind(this)}),u["default"].createElement(m["default"],{className:"get",style:{backgroundColor:60==n?"#ef4f4f":"#b3b3b3"},onTap:this._handleReGet.bind(this)},"重新获取"),60==n?null:u["default"].createElement("span",null,u["default"].createElement("span",{style:{color:"red"}},n),"秒后可重新获取"),u["default"].createElement("footer",null,u["default"].createElement(m["default"],{component:"div",className:"cancel",onTap:this._handleCancle.bind(this)},"取消"),u["default"].createElement(m["default"],{component:"div",className:"save",style:{backgroundColor:6===this.state.validateCode.length?"#ef4f4f":"#b3b3b3"},onTap:this._handleSave.bind(this)},l?"正在验证...":"确认"))))}},{key:"_handleCancle",value:function(){this.props.onCancel()}},{key:"_handleSave",value:function(){6===this.state.validateCode.length&&this.props.onSave(this.state.validateCode)}},{key:"_handleReGet",value:function(){60===this.props.second&&this.props.onReGet()}},{key:"_handleCodeChange",value:function(e){this.setState({validateCode:e.target.value})}}]),t}(d.Component))||i);t["default"]=g},231:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var d=a(3),u=n(d),c=(a(13),a(7)),f=(n(c),a(12)),h=n(f),p=a(15),m=n(p),b=a(58),g=(n(b),a(94)),v=n(g),y=(0,h["default"])(i=function(e){function t(e){return l(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return r(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.isValidateFetching,n=e.isValidateSuccess,l=e.onBack,o=e.onRetry;return u["default"].createElement("div",{className:"bind-modal",style:{display:t&&!a?"block":"none"}},n?u["default"].createElement("main",null,u["default"].createElement("img",{src:v["default"]}),u["default"].createElement("h2",null,"解绑成功"),u["default"].createElement("span",{style:{lineHeight:"0.625rem"}},"请输入新的11位手机号，并继续完成新手机号的验证，否则解绑无效"),u["default"].createElement("footer",null,u["default"].createElement(m["default"],{className:"save",onTap:l},"知道了"))):u["default"].createElement("main",null,u["default"].createElement("h2",null,"解绑失败"),u["default"].createElement("footer",null,u["default"].createElement(m["default"],{className:"cancel",onTap:l},"返回"),u["default"].createElement(m["default"],{className:"save",onTap:o},"重试"))))}}]),t}(d.Component))||i;t["default"]=y},235:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,s,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a(489);var u=a(3),c=n(u),f=a(13),h=a(7),p=(n(h),a(12)),m=n(p),b=a(15),g=n(b),v=a(58),y=n(v),_=a(29),w=a(230),E=n(w),k=a(231),R=n(k),S=(i=(0,f.connect)(function(e){return{personal:e.get("personal")}}),(0,m["default"])(s=i(s=function(e){function t(e){l(this,t);var a=o(this,Object.getPrototypeOf(t).call(this,e));return a.state={personal:a.props.personal,releaseBindShow:!1,second:60,isShowValidateResult:!1},a._reduce=a._reduce.bind(a),a._handleReleaseBindCancel=a._handleReleaseBindCancel.bind(a),a._handleReleaseBindSave=a._handleReleaseBindSave.bind(a),a._handleReleaseBind=a._handleReleaseBind.bind(a),a._handleReGet=a._handleReGet.bind(a),a._releaseResultBack=a._releaseResultBack.bind(a),a._releaseResultRetry=a._releaseResultRetry.bind(a),a}return r(t,e),d(t,[{key:"componentDidMount",value:function(){this.props.dispatch((0,_.fetchPersonalIfNeed)())}},{key:"render",value:function(){var e=this.state,t=e.releaseBindShow,a=e.second,n=e.isShowValidateResult,l=this.props.personal,o=l.get("validate");return console.log(o.toJS()),c["default"].createElement("div",{className:"personal-update"},c["default"].createElement(y["default"],{value:l.get("name"),label:"姓名"}),c["default"].createElement(y["default"],{disabled:!o.get("isNeedToValidate"),value:l.get("tel"),label:"手机号"},o.get("isNeedToValidate")?null:c["default"].createElement(g["default"],{component:"div",className:"tel-bind",onTap:this._handleReleaseBind},"解绑")),c["default"].createElement(y["default"],{value:l.get("bankcard"),label:"银行卡"}),c["default"].createElement(y["default"],{value:l.get("operatorName"),label:"归属人"}),c["default"].createElement("footer",null,c["default"].createElement(g["default"],{className:"cancel"},"取消"),c["default"].createElement(g["default"],{className:"save"},"保存")),c["default"].createElement(E["default"],{show:t,tel:l.get("tel"),isValidateFetching:l.getIn(["validate","isFetching"]),second:a,onCancel:this._handleReleaseBindCancel,onReGet:this._handleReGet,onSave:this._handleReleaseBindSave}),c["default"].createElement(R["default"],{show:n,isValidateFetching:l.getIn(["validate","isFetching"]),isValidateSuccess:l.getIn(["validate","isSuccess"]),onBack:this._releaseResultBack,onRetry:this._releaseResultRetry}))}},{key:"_handleReleaseBind",value:function(){this.setState({releaseBindShow:!0}),this._reduceFlag||(this.props.dispatch((0,_.sendValidateCode)(13818138141)),this._reduce(),this._reduceFlag=!0)}},{key:"_handleReleaseBindCancel",value:function(){this.setState({releaseBindShow:!1})}},{key:"_handleReGet",value:function(){this._reduceFlag||(this._reduce(),this._reduceFlag=!0)}},{key:"_handleReleaseBindSave",value:function(e){this.setState({releaseBindShow:!1,isShowValidateResult:!0}),this.props.dispatch((0,_.validateCode)(13818138141,e))}},{key:"_releaseResultBack",value:function(){this.setState({releaseBindShow:!1,isShowValidateResult:!1}),this.props.dispatch((0,_.isNeedToValidate)(!0))}},{key:"_releaseResultRetry",value:function(){this.setState({releaseBindShow:!0,isShowValidateResult:!1})}},{key:"_reduce",value:function(){this.state.second>0?(this.setState({second:this.state.second-1}),setTimeout(this._reduce,1e3)):(this.setState({second:60}),this._reduceFlag=!1)}}]),t}(u.Component))||s)||s);t["default"]=S},115:function(e,t,a){t=e.exports=a(18)(),t.push([e.id,".personal-update{padding:.625rem .3125rem 0}.personal-update>footer{display:fixed;height:1.5625rem;width:100%;padding:0 .3125rem .3125rem;position:fixed;left:0;right:0;bottom:0;font-size:0}.personal-update>footer>.cancel{color:#ef4f4f}.personal-update>footer>.cancel,.personal-update>footer>.save{text-align:center;display:inline-block;width:4.53125rem;height:1.25rem;line-height:1.25rem;border:.03125rem solid #ef4f4f;font-size:.5rem;background-color:#fff;border-radius:.125rem}.personal-update>footer>.save{color:#ef4f4f;color:#fff;background-color:#ef4f4f;margin-left:.3125rem}.personal-update .tel-bind{height:.9375rem;width:1.875rem;border-radius:.125rem;line-height:.9375rem;position:absolute;right:0;top:0;background-color:#ef4f4f;font-size:.40625rem;color:#fff;text-align:center}.bind-modal{z-index:999;position:absolute;left:0;right:0;top:0;bottom:0;background-color:rgba(0,0,0,.5);padding:.46875rem .78125rem 0 .46875rem}.bind-modal>main{font-size:0;line-height:1.40625rem;background-color:#fff;padding:.625rem .3125rem .3125rem}.bind-modal>main>div{line-height:.625rem;font-size:.40625rem}.bind-modal>main>label{font-size:.40625rem;display:inline-block;width:2.1875rem}.bind-modal>main>input{padding-left:.3125rem;font-size:.40625rem;display:inline-block;width:5.625rem;height:1.09375rem;border-radius:8px;border:2px solid #ccc}.bind-modal>main>span{font-size:.40625rem}.bind-modal>main>img{display:block;margin:auto}.bind-modal>main>.get{margin-left:2.1875rem;display:inline-block;height:1.09375rem;line-height:1.09375rem;width:1.875rem;background-color:#ef4f4f;margin-top:.15625rem;border-radius:8px;color:#fff;text-align:center;margin-right:.15625rem}.bind-modal>main>footer{text-align:center;margin-top:.9375rem}.bind-modal>main>footer .cancel{color:#ef4f4f;border:.03125rem solid #ef4f4f;border-radius:.125rem}.bind-modal>main>footer .cancel,.bind-modal>main>footer>.save{text-align:center;display:inline-block;width:3.75rem;height:1.25rem;line-height:1.25rem;font-size:.5rem;background-color:#fff}.bind-modal>main>footer>.save{color:#ef4f4f;border:.03125rem solid #ef4f4f;border-radius:.125rem;color:#fff;background-color:#ef4f4f;margin-left:.3125rem;border:0}",""])},489:function(e,t,a){var n=a(115);"string"==typeof n&&(n=[[e.id,n,""]]);var l=a(20)(n,{});n.locals&&(e.exports=n.locals),n.locals||e.hot.accept(115,function(){var t=a(115);"string"==typeof t&&(t=[[e.id,t,""]]),l(t)}),e.hot.dispose(function(){l()})}});